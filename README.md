## TelepuzikiChat


### Идея:
Основная цель нашего проекта - чат для общения людей.


### Основные компоненты системы:

**1. Client Application:**
На стороне клиента написан графический интерфейс с использованием Windows Forms. 
Он позволяет обмениваться текстовыми сообщениями между несколькими людьми, т.е. для того 
чтобы пообщаться с другим человеком необходимо набрать сообщение, а затем нажать кнопку 
отправки или клавишу `Enter`. Если же надо написать другому человеку, то надо всего 
лишь переключиться на другой диалог, выбрав из списка всех свои контактов того, с кем Вы
хотите обменяться сообщениями.

**2. Server Application (Console):**
На стороне сервера используется консольный интерфейс, в который выводится некоторая 
сопутствующая информация о работе сервера.

**3. Network (Library):**
Библиотека, содержащая общую логику работы с сетью: как способы коммуникации 
клиент-сервер, так и способы взаимодействия (события) клиент-серверной части с 
другими уровнями архитектуры программы (GUI и DataBase).
Для передачи по сети используются пакеты (наследники `IPackage`), перед отправкой они 
конвертируются в `byte[]`, а затем уже `byte[]` с помощью 
`System.Net.Sockets.NetworkStream` отправляется получателю.
Для взаимодействия с графическим интерфейсом используются события, т.е. в некоторых
случаях генерируются события, на которые подписывается графическое приложение. 
В некоторых таких событиях передаётся `IMessage`, который является более вышлежащей 
абстракцией, т.е. графический интерфейс не взаимодействует с пакетами, а взаимодействует с 
сообщениями (наследниками `IMessage`).

**4. Crypting (Library):**
Библиотека, содержащая логику работы шифрования и дешифрования информации, передаваемой 
по сети.
Для шифрования используются классы, наследуемые от `ICryptable`, в котором прописаны два метода,
которые принимают `byte[]` и так же возвращают `byte[]`. После шифрования данные передаются по сети.

**5. DataBase:**
Библиотека, содержащая логику работы с базой данных.
Для сервера создана обёртка над https://firebase.google.com/, представленная в виде класса 
`WrappedFirebase`. 
Для клиентской части создана база данных, в которой клиент будет хранить кэш, чтобы ускорить 
работу с базой данных, в которой хранятся все переписки пользователей, т.к. если при каждом 
запуске клиентской программы будет обращение к базе данных, то будет очень большая нагрузка 
на базу данных, что может привести к ожиданиям со стороны клиента.



### Точки расширения архитектуры:

**1. Client Application:**
В клиентской части существует возможность выбора несколких тем раскраски всего приложения, 
т.е. пользователь в меню настроек может выбрать понравившейся ему дизайн и вся программа 
изменит свой стиль.
Для создания новых стилей необоходимо создать новый класс, который будет унаследован от 
абстрактного класса `Style`, и задать основные цвета для программы. А так же требуетс создать
новую папку в папке `/Resources` с названием `theme<название класса вашего стиля>`, 
например: `themeRainbow`.

**2. Network (Library):**
В архитектуре клиент-серверной части есть возможность расширения в плане 
новых способов передачи данных между клиентами и сервером, т.е. есть возможность 
добавления новых классов, наследуемых от `IPackage` и `IMessage`, где `IPackage`
является абстракцией для передачи потока байт по сети, а `IMessage` асбтракция для
вышестоящего уровня.
- `IPackage` - интерфейс, используемый для передачи информации, т.е. все сущности, 
  реализующие этот интерфейс, перед отправлением по сети трансформируются в `byte[]`,
  Примерами реализации данного интерфейса являются например:
    - `TextPackage`
    - `OnlinePackage`
    - `DisconnectPackage`
- `IMessage` - интерфейс, испльзуемый для сообщений
  Примером реализации данного интерфейса является: `TextMessage`, но так же уже
  продуманы на будущееи ещё две реализации такие как - `VoiceMessage` и `FileMessage`,
  которые соответственно отвечают за голосовое и файловое сообщение.

**3. Crypting (Library):** 
В данный момент шифрование происходит по алгоритму Rijndael. Существует возможность
создания защищенного чата с возможностью общения лишь при наличии одинакового пароля
у двух собеседников. Также точкой расширения является добавление новых алгоритмов
шифрования, наследуемых от `ICryptable`.


### Участники:
**1. Иваненко Григорий** [КН-204]

**2. Клабукова Юлия** [КН-204]

**3. Тиунов Владимир** [КН-204]

**4. Казанцев Артём** [КН-204]
